{"version":3,"sources":["camera.js","utilities.js","App.js","index.js"],"names":["camera","width","height","createObjects","console","log","document","getElementsByTagName","video","createElement","id","autoplay","body","appendChild","canvas","context","startCamera","w","h","navigator","mediaDevices","getUserMedia","this","getElementById","getContext","then","stream","srcObject","play","takeSnapshot","pause","videoElement","getCtx","labelMap","0","name","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","drawRect","boxes","classes","scores","threshold","imgWidth","imgHeight","ctx","signs","i","length","x","y","text","strokeStyle","lineWidth","fillStyle","font","push","beginPath","fillText","Math","round","rect","stroke","output","pl","require","Recipe","props","ing","React","useState","recipe","setRecipe","className","onClick","e","ingredientArray","session","create","consult","success","query","sort","goal","answer","format_answer","error","err","style","target","href","detecting","detected","clientWidth","App","ingredients","setIngredients","loading","setLoading","detectedSomething","setdetectedSomething","a","model","cvstfjs","loadModelAsync","process","image","executeAsync","result","useEffect","theWidth","isMobile","useMediaQuery","mobile","marginTop","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e653403c.chunk.js","sourcesContent":["// import { constraints } from \"@tensorflow/tfjs-layers\";\r\n\r\nconst camera = function () {\r\n    let width = 0;\r\n    let height = 0;\r\n    \r\n    const createObjects = function () {\r\n    \r\n        console.log(document.getElementsByTagName('body'))\r\n        const video = document.createElement('video');\r\n        video.id = 'video';\r\n        video.width = width;\r\n        video.height = height;\r\n        video.autoplay = true;\r\n        document.body.appendChild(video);\r\n    \r\n        const canvas = document.createElement('canvas');\r\n        canvas.id = 'canvas';\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        document.body.appendChild(canvas);\r\n\r\n        \r\n    }\r\n    \r\n    \r\n    return {\r\n        video: null,\r\n        context: null,\r\n        canvas: null,\r\n    \r\n        startCamera: function (w = 680, h = 480) {\r\n            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n                width = w;\r\n                height = h;\r\n    \r\n                createObjects();\r\n    \r\n                this.video = document.getElementById('video');\r\n                this.canvas = document.getElementById('canvas');\r\n                this.context = this.canvas.getContext('2d');\r\n    \r\n    \r\n                (function (video) {\r\n                    navigator.mediaDevices.getUserMedia({ video: 'true' }).then(function (stream) {\r\n                        video.srcObject = stream;\r\n                        video.play();\r\n                    });\r\n                })(this.video)\r\n    \r\n            }\r\n        },\r\n    \r\n        takeSnapshot: function () {\r\n            // this.canvas.width = width;\r\n            // this.canvas.height = height;\r\n            // this.context.drawImage(this.video, 0, 0, width, height);\r\n            this.video.pause()\r\n        },\r\n\r\n        videoElement: function() {\r\n            console.log(this.video.height)\r\n            return this.video\r\n        },\r\n\r\n        getCtx: function(){\r\n            return this.canvas.getContext('2d');\r\n        }\r\n    \r\n    }\r\n    }();\r\n    \r\n    export default camera;","import camera from \"./camera.js\"\r\n\r\n// Define our labelmap\r\nexport const labelMap = {\r\n    0:{name: 'almond'},\r\n    1:{name: 'apple'},\r\n    2:{name: 'asparagus'},\r\n    3:{name: 'avocado'},\r\n    4:{name: 'baby_corn'},\r\n    5:{name: 'bacon'},\r\n    6:{name: 'bagel'},\r\n    7:{name: 'balsamic_vinegar'},\r\n    8:{name: 'banana'},\r\n    9:{name: 'bean'},\r\n    10:{name: 'bell_pepper'},\r\n    11:{name: 'blackberry'},\r\n    12:{name: 'blueberry'},\r\n    13:{name: 'bread'},\r\n    14:{name: 'brocolli'},\r\n    15:{name: 'butter'},\r\n    16:{name: 'carrot'},\r\n    17:{name: 'cheese'},\r\n    18:{name: 'chicken'},\r\n    19:{name: 'chocolate'},\r\n    20:{name: 'cookie'},\r\n    21:{name: 'cream_cheese'},\r\n    22:{name: 'egg'},\r\n    23:{name: 'garlic'},\r\n    24:{name: 'green_beans'},\r\n    25:{name: 'ground beef'},\r\n    26:{name: 'ham'},\r\n    27:{name: 'honey'},\r\n    28:{name: 'ice_cream'},\r\n    29:{name: 'ketchup'},\r\n    30:{name: 'lasagna_noodle'},\r\n    31:{name: 'lettuce'},\r\n    32:{name: 'lunch_meat'},\r\n    33:{name: 'marshmallow'},\r\n    34:{name: 'mayonnaise'},\r\n    35:{name: 'milk'},\r\n    36:{name: 'mushroom'},\r\n    37:{name: 'mustard'},\r\n    38:{name: 'noodle'},\r\n    39:{name: 'oatmeal'},\r\n    40:{name: 'onion'},\r\n    41:{name: 'potato'},\r\n    42:{name: 'sausage'},\r\n    43:{name: 'shredded_cheese'},\r\n    44:{name: 'strawberry'},\r\n    45:{name: 'sugar'},\r\n    46:{name: 'sweet_potatoes'},\r\n    47:{name: 'tomato'},\r\n    48:{name: 'tortillas'},\r\n    49:{name: 'yogurt'}\r\n}\r\n\r\n// Define a drawing function\r\nexport const drawRect = (boxes, classes, scores, threshold, imgWidth, imgHeight, ctx) => {\r\n    let signs = []\r\n    for(let i = 0; i <= boxes.length; i++){\r\n        if(boxes[i] && classes[i] && scores[i]>threshold){\r\n            // Extract variables\r\n            // const [y,x,height,width] = boxes[i];\r\n            // const [x,y,width, height] = boxes[i];\r\n            const x = boxes[i][0];\r\n            const y = boxes[i][1];\r\n            const width = boxes[i][2];\r\n            const height = boxes[i][3];\r\n            const text = classes[i];\r\n\r\n            // Set styling\r\n            ctx.strokeStyle = 'green';\r\n            ctx.lineWidth = 10;\r\n            ctx.fillStyle = 'white';\r\n            ctx.font = '30px Arial';\r\n\r\n            signs.push(labelMap[text]['name']);\r\n            // console.log(labelMap[text]['name']);\r\n\r\n            // DRAW!!\r\n            ctx.beginPath();\r\n            ctx.fillText(labelMap[text]['name']+ ' - ' +Math.round(scores[i]*100)/100, x*imgWidth, y*imgHeight-10);\r\n            // ctx.fillText(\"something\", x*imgWidth, y*imgHeight-10);\r\n            ctx.rect(x*imgWidth, y*imgHeight, width*imgWidth/2, height*imgHeight/1.5);\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nexport const output = (boxes, classes, scores, threshold) => {\r\n    let signs = []\r\n    for(let i = 0; i <= boxes.length; i++){\r\n        if(boxes[i] && classes[i] && scores[i]>threshold){\r\n            const text = classes[i];\r\n            signs.push(labelMap[text]['name']);\r\n        }\r\n    }\r\n    return signs;\r\n}","// Import dependencies\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport camera from \"./camera.js\"\r\nimport * as cvstfjs from '@microsoft/customvision-tfjs';\r\nimport { useMediaQuery } from 'react-responsive'\r\n// 2. TODO - Import drawing utility here\r\n// e.g. import { drawRect } from \"./utilities\";\r\nimport {output, drawRect} from \"./utilities\"\r\nvar pl = require(\"tau-prolog\");\r\n\r\n\r\nconsole.log(document.getElementById('root').clientWidth)\r\n\r\n\r\nfunction App(){\r\n\r\n    let width;\r\n    let height;\r\n    const [ingredients, setIngredients] = React.useState([]);\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [detectedSomething, setdetectedSomething] = React.useState(\"not yet\");\r\n\r\n    React.useEffect(()=>{\r\n    console.log(document.getElementById('root').clientWidth)\r\n    if(document.getElementById('root').clientWidth <= 595){\r\n      width = document.getElementById('root').clientWidth-50;\r\n      height = (480*width)/640\r\n      camera.startCamera(width,height);\r\n    }else{\r\n      width = 640;\r\n      height = 480;\r\n      camera.startCamera(width, height);\r\n    }}, [])\r\n\r\n  async function detectIngredients(){\r\n    setLoading(true);\r\n    camera.takeSnapshot();\r\n    let model = new cvstfjs.ObjectDetectionModel();\r\n    await model.loadModelAsync(process.env.REACT_APP_MODEL_URL);\r\n    // const image = document.getElementById('canvas');\r\n    const image = document.getElementById('video');\r\n    const result = await model.executeAsync(image);\r\n    console.log(result);\r\n    \r\n    drawRect(result[0], result[2], result[1], 0.25, width,height, camera.getCtx())\r\n      \r\n    setIngredients(output(result[0], result[2], result[1], 0.25));\r\n\r\n    setLoading(false)\r\n\r\n    setdetectedSomething(output(result[0], result[2], result[1], 0.25).length > 0 ? \"yes\": \"no\")\r\n  }\r\n   \r\n  const isMobile = useMediaQuery({query: '(max-width: 578px)'})\r\n  let theHeight;\r\n  let theWidth\r\n  if(document.getElementById('root').clientWidth <= 595){\r\n    theWidth = document.getElementById('root').clientWidth-50;\r\n  } else{\r\n    theWidth = 640;\r\n  }\r\n  isMobile? theHeight =(480*theWidth)/640+70 : theHeight = 535;\r\n\r\n  let mobile = {\r\n    marginTop: `${theHeight}px`\r\n  }\r\n\r\n  return(\r\n    <div id=\"div\" className=\"app-div\">\r\n      <h1 className=\"project-title\">The Lazy Chef</h1>\r\n      <button style={mobile}className=\"search-button\" onClick={detectIngredients}>\r\n        Detect\r\n      </button>\r\n      <Recipe ing={ingredients} detecting={loading} detected={detectedSomething}/>\r\n  </div>\r\n  );\r\n\r\n}\r\n\r\nfunction Recipe(props){\r\n  console.log(\"ingredients: \"+props.ing)\r\n  const [recipe, setRecipe] = React.useState(\"\");\r\n\r\n  let lookup = {\r\n    \"sorry, we didn't find any recipes for those ingredients :(\": \"https://www.youtube.com/watch?v=oHg5SJYRHA0\",\r\n    \"X = sausage_omelette.\": \"https://www.emerils.com/123033/pork-sausage-and-cheese-omelette\",\r\n    \"X = bacon_omelette.\": \"https://www.recipetips.com/recipe-cards/t--37341/bacon-and-cheese-omelette.asp\",\r\n    \"X = lumberjack_omelette.\": \"https://www.keyingredient.com/recipes/852875039/lumberjack-omelet/\",\r\n    \"X = cheese_omelette.\": \"https://www.epicurious.com/recipes/food/views/cheese-omelette-51262180\",\r\n    \"X = cheesy_bacon-sausage-egg-hash_brown_skillet.\": \"https://www.allrecipes.com/recipe/261541/cheesy-bacon-sausage-egg-hash-brown-skillet/\",\r\n    \"X = sausage_breakfast_cassarole.\": \"https://www.simplyrecipes.com/recipes/sausage_breakfast_casserole/\",\r\n    \"X = sheepherders_breakfast.\": \"https://www.tasteofhome.com/recipes/sheepherder-s-breakfast/\",\r\n    \"X = sausage_breakfast_burrito.\": \"https://www.tasteofhome.com/recipes/sausage-breakfast-burritos/\",\r\n    \"X = bacon_breakfast_burrito.\": \"https://peasandcrayons.com/2019/03/bacon-breakfast-burrito.html\",\r\n    \"X = combo_breakfast_burrito.\": \"https://tasty.co/recipe/bacon-sausage-egg-wrapped-breakfast-burrito\",\r\n    \"X = cheesy_hash_brown_bake.\": \"https://www.tasteofhome.com/recipes/cheesy-hash-brown-bake/\",\r\n    \"X = berry_smoothie.\": \"https://www.dinneratthezoo.com/mixed-berry-smoothie/\",\r\n    \"X = sweet_potato_and_egg_skillet.\": \"https://www.tasteofhome.com/recipes/sweet-potato-and-egg-skillet/\",\r\n    \"X = hash_brown_egg_bake.\": \"https://www.tasteofhome.com/recipes/hash-brown-egg-bake/\",\r\n    \"X = egg_sandwich.\": \"https://recipes.timesofindia.com/us/recipes/egg-sandwich/rs60018142.cms\",\r\n    \"X = hard_boiled_egg.\": \"https://www.simplyrecipes.com/recipes/how_to_make_perfect_hard_boiled_eggs/\",\r\n    \"X = toast.\": \"https://spicedblog.com/toast/\",  \r\n    \"X = buttered_toast.\": \"https://jerryjamesstone.com/recipe/best-toast-with-butter/\",\r\n    \"X = grilled_cheese.\": \"https://www.spendwithpennies.com/the-best-grilled-cheese-sandwich/\",\r\n    \"X = fancy_sandwich.\": \"https://californiaavocado.com/recipe/fresh-california-avocado-and-turkey-sandwich/\",\r\n    \"X = summer_blueberry_almond_salad.\": \"https://www.food.com/recipe/greens-with-blueberries-feta-and-almonds-301425\",\r\n    \"X = baked_potato.\": \"https://www.gimmesomeoven.com/baked-potato/\",\r\n    \"X = cheese_quesadilla.\": \"https://www.simplyrecipes.com/recipes/quesadilla/\",\r\n    \"X = bean_and_cheese_burrito.\": \"https://www.isabeleats.com/bean-and-cheese-burritos/\",\r\n    \"X = wrap.\": \"https://lmld.org/turkey-bacon-ranch-wraps/\",\r\n    \"X = chef_salad.\": \"https://www.spendwithpennies.com/chefs-salad/\",\r\n    \"X = lasagna.\": \"https://www.spendwithpennies.com/easy-homemade-lasagna/\",\r\n    \"X = spaghetti.\": \"https://www.thewholesomedish.com/spaghetti/\",\r\n    \"X = pizza.\": \"https://www.abeautifulplate.com/the-best-homemade-margherita-pizza/\",\r\n    \"X = chicken_tacos.\": \"https://damndelicious.net/2019/08/06/easy-chicken-tacos/\",\r\n    \"X = bacon_and_egg_pasta.\": \"https://www.foodnetwork.com/recipes/food-network-kitchen/bacon-and-egg-spaghetti-7232463\",\r\n    \"X = brocolli_mac_and_cheese.\": \"https://www.dinneratthezoo.com/broccoli-mac-and-cheese/\",\r\n    \"X = chicken_bake.\": \"https://easyfamilyrecipes.com/million-dollar-chicken-bake/\",\r\n    \"X = lemon_garlic_chicken.\": \"https://rasamalaysia.com/lemon-garlic-chicken/\",\r\n    \"X = hefty_wrap.\": \"https://www.withablast.net/deli-wraps/\",\r\n    \"X = meatloaf.\": \"https://www.youtube.com/watch?v=dQw4w9WgXcQ\",\r\n    \"X = vegetable_stir_fry.\": \"https://www.dinneratthezoo.com/vegetable-stir-fry/\",\r\n    \"X = ice_cream_sandwich.\": \"https://www.ifyougiveablondeakitchen.com/cookie-ice-cream-sandwich/\",\r\n    \"X = strawberry_milkshake.\": \"https://www.foodnetwork.com/recipes/fresh-strawberry-milkshakes-3644067\",\r\n    \"X = chocolate_milkshake.\": \"https://www.bettycrocker.com/recipes/chocolate-milkshakes/7b7f7d41-4e3f-4bfa-b148-f29cc2a6b135\",\r\n    \"X = smores.\": \"https://www.allrecipes.com/recipe/22146/smores/\",\r\n    \"X = chocolate_covered_apple.\": \"https://www.allrecipes.com/recipe/63150/chocolate-dipped-apples/\",\r\n    \"X = baked_egg_in_avocado.\": \"https://damndelicious.net/2016/10/05/baked-eggs-in-avocado/\"\r\n  }\r\n\r\n\r\n\r\n  function consultKnowledgeBase(e){\r\n    let ingredientArray = props.ing\r\n    console.log(\"consultKnowledgeBase: \"+ingredientArray)\r\n         // start tau prolog sesson\r\n    var session = pl.create();\r\n    // load recipes.pl file\r\n    const knowledgeBase = `\r\n      recipe(bread, butter, buttered_toast).\r\n      recipe(avocado, bread, cheese, lunch_meat, tomato, fancy_sandwich).\r\n      recipe(almonds, balsamic_vinegar, blueberry, cheese, lettuce, mustard, summer_blueberry_almond_salad).     \r\n      recipe(milk, potato, shredded_cheese, baked_potato).\r\n      recipe(shredded_cheese, tortilla, cheese_quesadilla).\r\n      recipe(bean, tortilla, bean_and_cheese_burrito).\r\n      recipe(avocado, lunch_meat, tomato, tortilla, wrap).\r\n      recipe(lettuce, lunch_meat, shredded_cheese, chef_salad).\r\n      recipe(ground_beef, lasagna_noodle, shredded_cheese, tomato, lasagna).\r\n      recipe(noodle, tomatoes, spaghetti).\r\n      recipe(bread, shredded_cheese, tomatoes, pizza).\r\n      recipe(chicken, tomato, tortilla, onion, chicken_tacos).\r\n      recipe(bacon, egg, noodle, bacon_and_egg_pasta).\r\n      recipe(brocolli, milk, noodle, shredded_cheese, brocolli_mac_and_cheese).\r\n      recipe(chicken, shredded_cheese, tomato, chicken_bake).\r\n      recipe(asparagus, chicken, garlic, lemon, lemon_garlic_chicken).\r\n      recipe(avocado, carrot, lettuce, lunch_meat, tortilla, hefty_wrap).\r\n      recipe(brocolli, ground_beef, ketchup, onion, sweet_potato, tomato, meatloaf).\r\n      recipe(baby_corn, bell_pepper, brocolli, cucumber, green_bean, mushroom, soy_sauce, vegetable_stir_fry).\r\n      recipe(cookie, ice_cream, ice_cream_sandwich).\r\n      recipe(milk, strawberry, strawberry_milkshake).\r\n      recipe(chocolate, milk, chocolate_milkshake).\r\n      recipe(chocolate, marshmallow, smores).\r\n      recipe(apple, chocolate, chocolate_covered_apple).\r\n      recipe(cheese, egg, sausage, sausage_omelette).\r\n      recipe(bacon, cheese, egg, bacon_omelette).\r\n      recipe(bacon, cheese, egg, sausage, lumberjack_omelette).\r\n      recipe(cheese, egg, cheese_omelette).\r\n      recipe(bacon, bread, butter, cheese, egg, milk, potato, sausage, cheesy_bacon_sausage_egg_hash_brown_skillet).\r\n      recipe(bread, egg, milk, mustard, shredded_cheese, sausage, sausage_breakfast_cassarole).\r\n      recipe(bacon, egg, onion, potato, shredded_cheese, sheepherders_breakfast).\r\n      recipe(egg, potato, sausage, tortilla, sausage_breakfast_burrito).\r\n      recipe(bacon, egg, potato, tortilla, bacon_breakfast_burrito).\r\n      recipe(bacon, egg, sausage, tortilla, potato, combo_breakfast_burrito).\r\n      recipe(milk, potato, shredded_cheese, cheesy_hash_brown_bake).\r\n      recipe(banana, blueberry, strawberry, berry_smoothie).\r\n      recipe(butter, egg, garlic, sweet_potato, sweet_potato_and_egg_skillet).\r\n      recipe(bacon, egg, milk, potato, shredded_cheese, hash_brown_egg_bake).\r\n      recipe(egg, hard_boiled_egg).\r\n      recipe(bread, egg, egg_sandwich).\r\n      recipe(bread, toast).\r\n      recipe(bread, cheese, grilled_cheese).\r\n      recipe(avocado, egg, baked_egg_in_avocado).\r\n    `\r\n\r\n    session.consult(knowledgeBase, {\r\n      success:function(){\r\n        // query recipes.pl with list of ingredients\r\n        session.query(\"recipe(\"+[ingredientArray].sort()+\", X).\", {\r\n          success: function(goal){\r\n            session.answer({\r\n              success: function(answer){\r\n                console.log(session.format_answer(answer));\r\n                // call display recipe with result of query\r\n                setRecipe(session.format_answer(answer));\r\n              }\r\n            });\r\n          }\r\n        })\r\n      },\r\n      error: function(err){\r\n        console.log(\"error: \"+err)\r\n        setRecipe(\"\");\r\n      }\r\n    });\r\n\r\n    if(recipe.length == 0){\r\n      setRecipe(\"sorry, we didn't find any recipes for those ingredients :(\");\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  return(\r\n    <>\r\n      <button id=\"search\" className=\"search-button\" onClick={consultKnowledgeBase}>\r\n        Search\r\n      </button>\r\n      <div style={{height: 30}}></div>\r\n      <a className=\"link\" target=\"_blank\" href={lookup[recipe]} >{recipe}</a>\r\n      {props.detecting &&\r\n      <>\r\n        <div className=\"spinner\"/>\r\n        <p className=\"link\">looking for ingredients...</p>\r\n      </>\r\n      }\r\n      {props.detected === \"no\" && <p className=\"link\">sorry, nothing was detected :(</p>}\r\n      <div style={{height: 30}}></div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}